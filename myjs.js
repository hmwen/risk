(function(k,a,b){"undefined"!==typeof module&&module.exports?module.exports=b():"function"===typeof define&&define.amd?define(b):a[k]=b()})("EtcPolice",this,function(){var k=function(a){var b={};"vas"==a?b={canvas:!0}:"vex"==a?b={ie_activex:!0}:"res"==a&&(b={screen_resolution:!0});var g,h;g=Array.prototype.forEach;h=Array.prototype.map;this.each=function(a,d,b){if(null!==a)if(g&&a.forEach===g)a.forEach(d,b);else if(a.length===+a.length)for(var f=0,h=a.length;f<h&&d.call(b,a[f],f,a)!=={};f++);else for(f in a)if(a.hasOwnProperty(f)&&
d.call(b,a[f],f,a)==={})break};this.map=function(a,b,e){var f=[];if(null==a)return f;if(h&&a.map===h)return a.map(b,e);this.each(a,function(a,c,g){f[f.length]=b.call(e,a,c,g)});return f};"object"==typeof b?(this.hasher=b.hasher,this.screen_resolution=b.screen_resolution,this.canvas=b.canvas,this.ie_activex=b.ie_activex):"function"==typeof b&&(this.hasher=b)};k.prototype={get:function(){var a=[];a.push(navigator.userAgent);a.push(navigator.language);a.push(screen.colorDepth);this.screen_resolution&&
"undefined"!==typeof this.getScreenResolution()&&a.push(this.getScreenResolution().join("x"));a.push((new Date).getTimezoneOffset());a.push(this.hasSessionStorage());a.push(this.hasLocalStorage());a.push(!!window.indexedDB);document.body?a.push(typeof document.body.addBehavior):a.push("undefined");a.push(typeof window.openDatabase);a.push(navigator.cpuClass);a.push(navigator.platform);a.push(navigator.doNotTrack);a.push(this.getPluginsString());this.canvas&&this.isCanvasSupported()&&a.push(this.getCanvasEtcPolice());
return this.hasher?this.hasher(a.join("###"),31):this.murmurhash3_32_gc(a.join("###"),31)},murmurhash3_32_gc:function(a,b){var g,h,c,d,e;g=a.length&3;h=a.length-g;c=b;for(e=0;e<h;)d=a.charCodeAt(e)&255|(a.charCodeAt(++e)&255)<<8|(a.charCodeAt(++e)&255)<<16|(a.charCodeAt(++e)&255)<<24,++e,d=3432918353*(d&65535)+((3432918353*(d>>>16)&65535)<<16)&4294967295,d=d<<15|d>>>17,d=461845907*(d&65535)+((461845907*(d>>>16)&65535)<<16)&4294967295,c^=d,c=c<<13|c>>>19,c=5*(c&65535)+((5*(c>>>16)&65535)<<16)&4294967295,
c=(c&65535)+27492+(((c>>>16)+58964&65535)<<16);d=0;switch(g){case 3:d^=(a.charCodeAt(e+2)&255)<<16;case 2:d^=(a.charCodeAt(e+1)&255)<<8;case 1:d^=a.charCodeAt(e)&255,d=3432918353*(d&65535)+((3432918353*(d>>>16)&65535)<<16)&4294967295,d=d<<15|d>>>17,c^=461845907*(d&65535)+((461845907*(d>>>16)&65535)<<16)&4294967295}c^=a.length;c^=c>>>16;c=2246822507*(c&65535)+((2246822507*(c>>>16)&65535)<<16)&4294967295;c^=c>>>13;c=3266489909*(c&65535)+((3266489909*(c>>>16)&65535)<<16)&4294967295;return(c^c>>>16)>>>
0},hasLocalStorage:function(){try{return!!window.localStorage}catch(a){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(a){return!0}},isCanvasSupported:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?!0:!1},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():
this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(a){var b=this.map(a,function(a){return[a.type,a.suffixes].join("~")}).join(",");return[a.name,a.description,b].join("::")},this).join(";")},getIEPluginsString:function(){return window.ActiveXObject?this.map("ShockwaveFlash.ShockwaveFlash;AcroPDF.PDF;PDF.PdfCtrl;QuickTime.QuickTime;rmocx.RealPlayer G2 Control;rmocx.RealPlayer G2 Control.1;RealPlayer.RealPlayer(tm) ActiveX Control (32-bit);RealVideo.RealVideo(tm) ActiveX Control (32-bit);RealPlayer;SWCtl.SWCtl;WMPlayer.OCX;AgControl.AgControl;Skype.Detection".split(";"),
function(a){try{return new ActiveXObject(a),a}catch(b){return null}}).join(";"):""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasEtcPolice:function(){var a=document.createElement("canvas"),b=a.getContext("2d");b.textBaseline="top";b.font="14px 'Arial'";b.textBaseline="alphabetic";b.fillStyle="#f60";b.fillRect(125,1,62,20);b.fillStyle="#069";b.fillText("https://www.google.com/v?api=tw&key=389233233298329&iosize=298324",2,15);b.fillStyle="rgba(102, 204, 0, 0.7)";b.fillText("https://www.google.com/v?api=tw&key=389233233298329&iosize=298324",
4,17);return a.toDataURL()}};return k});